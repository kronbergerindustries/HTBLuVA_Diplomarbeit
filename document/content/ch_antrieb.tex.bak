\chapter{Antriebsstrang}
\fancyfoot[C]{Lackner}


%% Übersicht %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Übersicht}
Die Hauptaufgabe des Anrtiebssystems ist die Umwandlung der von dem Akkumulator zur Verfügung gestellten elektrischen Energie in die kinetische Antriebsenergie. Diese tritt zuerst kreisförmig am Motor auf und wird zunächst über das Direkt-Getriebe umgeformt bzw. auf die passende Drehzahl gebracht, anschließend wird die kreisförmige kinetische Energie mithilfe des Hinterrades auf die Straße übertragen und das ganze Motorrad beschleunigt. Neben dem Antrieb des Motorrades hat die Motorsteuerung noch weitere Bedeutung als Steuereinheit, diese fungiert als Bindemittel zwischen dem Human-Computer Interacting System und den elektrischen Anforderungen an das Gesamtsystem.


\subsection{Grundfunktionen des Systems}
Die geplanten Funktionen des Antriebssystems lassen sich grob in zwei Grundfunktionen einteilen.

\begin{itemize}
	\item Der Antrieb - Translation ist eine Grundfunktion eines jeden Verkehrsmittels
	\\ Durch die Umwandlung der elektrischen Energie in kinetische Energie erfährt 
	\\ das gesamte System eine Beschleunigung in Fahrtrichtung.
	\item Die Steuereinheit - Steuerung und Kommunikation mit anderen Betriebsmitteln
	\\ Realisiert durch In- und Outputs, Datenübetragung mithilfe des CAN-Buses 
\end{itemize}

Um auf die einzelnen Details des Antriebssystems besser eingehen zu können, unterscheiden wir zwischen dem Hardwareaufbau und dem Softwareaufbau.

\newpage



%% Hardwareaufbau %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Hardwareaufbau des Antriebssystems}
Der grundsätzliche Hardwareaufbau des Antriebssystems lässt sich in zwei galvanisch getrennte Stromkreise und der mechanischen Umsetzung unterscheiden:

\begin{itemize}
	\item Mechanische Umsetzung (Kraftübertragung und Montage) 
	\\ Umfasst das Getriebe und die Befestigung aller Komponenten am Rahmen
	\item Der Laststromkreis
	\\ Beinhaltet die Verbindung des Motorcontrollers mit dem Motor und dem Akkumulator.
	\item Der Steuerstromkreis
	\\ Beinhaltet alle elektrischen Verbindungen, welche mithilfe des 35-poligen
	\\ Niederleistungs-Steckers mit dem Motorcontroller verbunden sind.
\end{itemize}

\newpage



%% Mechanische Umsetzung %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\subsection{Mechanische Umsetzung}
Dieser Teil des Antriebssystems wurde vollständig von Tobias Schmeisser übernommen.
--> link

\newpage



%% Der Laststromkreis %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Der Laststromkreis}
Der Laststromkreis befasst sich mit allen leistungsführenden Betriebsmitteln des Antriebssystems. Hierbei unterscheiden wir zwischen zwei Grundfunktionen:

\begin{itemize}
	\item Elektrische Energieübertragung
	\\ Umfasst die elektrische Verbindung von Motorcontroller und Akkumulator 					\\ mithilfe von einfachen Leitungen, um Leistungen übertragen zu können.
	\item Schutz aller Komponenten vor möglichen Beschädigungen (Leitungsschutzorgane)
	\\ Beinhaltet eine Schmelzsicherung zum Schutz vor Überströmen und ein 						\\ Hochleistungs-Relais, um im Fehlerfall den Stromkreis öffnen zu können und damit  		\\ eine galvanische Trennung der beiden Hauptkomponenten gewährleisten zu können.
\end{itemize}

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.5]{figures/hcis/Antrieb_Laststromkreis.png}
		\caption{Grundaufbau des Laststromkreises}
	\end{center}
\end{figure}

\newpage



%% Elektrische Energieübertragung %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Elektrische Energieübertragung}
Um die benötigte elektrische Energie übertragen zu können, müssen die Leitungen an den Leistungsverbrauch des Verbrauchers (Motor) angepasst werden. Bei einer zu hohen Stromaufnahme (Überlast) des Motors kann es zu einer übermäßigen Erwärmung der Leitungen bis hin zu dauerhaften Beschädigungen, wie durchschmorren der Isolierung oder sogar einen Leitungsbrand, führen. Um dies verhindern zu können, müssen die Leitungen an die Stromaufnahme des Motors angepasst werden. Das heißt, der zulässige Dauerstrom der Leitungen muss den maximalen Dauerstrom des Motors bzw. dem maximalen Dauerstrom, welcher durch den Akkumulator zur Verfügung gestellten werden kann, übersteigen.

Berechnung:
In diesem Abschnitt befassen wir uns zunächst mit der Berechnung aller Ströme, die wir zur Auswahl der richtigen Leitungen benötigen. Bei der Auswahl von Leitungen muss man grundsätzlich den Querschnitt und die Länge der Leitung an die benötigte Stromaufnahme des Motors anpassen.

Auswahl:

Fazit:

\newpage



%% Leitungsschutzorgane %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Leitungsschutzorgane}
Die Aufgabe der Leitungsschutzorgane ist es, bei unerwarteten Überströmen oder in einem Fehlerfall den Laststromkreis zu öffnen und damit die zwei Hauptkomponenten, die dieser Stromkreis miteinander verbindet, galvanisch zu trennen, um mögliche Beschädigungen an den Komponenten oder an den Leitungen verhindern zu können. Da jedoch ungewünschte Fehlauslösungen zum sofortigen Stillstand des Motorrades führen und eventuell sogar benötigte Wartungen (Wechsel der ausgelösten Schmelzsicherung) nach sich ziehen, müssen diese Leitungsschutzorgane sehr sorgfältig ausgewählt werden. Eine Überdimensionierung ist ebenso unerwünscht, denn dies hat nicht nur höhere Anschaffungskosten zur folge. Bei Überdimensionierung der Schmelzsicherung, löst diese zu spät aus und hat damit nur mehr eine sehr geringe bis gar keine Schutzfunktion mehr. 

Berechnung:

Auswahl:

Fazit:

\newpage



%% Der Steuerstromkreis %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Der Steuerstromkreis}
Der Steuerstromkreis befasst sich mit allen elektrischen Verbindungen, welche über den  35-poligen Niederleistung-Stecker mit dem Motorcontroller verbunden sind. Hierbei unterscheiden wir grundsätzlich zwischen drei verchiedenen Ports, welche nochmals unterkategorisiert werden können:

\begin{itemize}
	\item Eingänge (Inputs)
	\\ * Digitale Eingänge (Digital Inputs)
	\\ * Analoge Eingänge (Analog Inputs)
	\\ * Gas- und Bremseingänge (Throttle and Brake Inputs)
	\\ * Positionsrückmeldung vom Encoder (Position-feedback Input)
	\\ * Prozessorversorgung und Spulenrücklauf (KSI and Coil Return)
	\item Ausgänge (Outputs)
	\\ * Analoge Ausgänge (Analog Outputs)
	\\ * Digitale und Phasenmodulierbare Ausgänge (Digital and PWM Outputs)
	\\ * Spannungsversorgungs-Ausgänge (Power Supply Outputs)
	\item Kommunikation (Communication)
	\\ * CAN-Port (CAN-Bus)
	\\ * Serial-Port (Serielle Schnittstelle)
\end{itemize}

Der Motorcontroller verfügt über viele Pins, welche über mehrere Funktionen verfügen, es muss jedoch eine dieser Funktionen ausgewählt werden. Pin 6 zum Beispiel wird eigentlich als digitaler und phasenmodulierbare Ausgang verwendet, bei richtiger Konfiguration kann dieser jedoch auch als digitaler Input verwendet werden. Weiteres kann frei konfiguriert werden, ob man mit diesem Ausgang zum Beispiel das Hochleistungs-Relais oder einen Spannungswandler ansteuern möchte. Um den passenden Pin für eine Anwendung auswählen zu können, muss man jedoch die elektrischen Eigenschaften der Pins genauer unter die Lupe nehmen. Oftmals haben auch die Pins der selben Unterkategorie verschiedene Funktionen, Eingangsimpedanzen oder Toleranzen. 

\begin{figure}[H]
	\begin{center}
		\includegraphics[scale=0.5]{figures/hcis/Antrieb_Steuerstromkreis.png}
		\caption{Grundaufbau des Steuerstromkreises}
	\end{center}
\end{figure}

\newpage



\subsubsection{Eingänge (Inputs)}
Digitale Eingänge (Digital Inputs)
Es gibt insgesamt 16 Pins, die als digitale Eingänge genutzt werden können, jedoch werden sieben Pins davon eigentlich als Ausgänge konfiguriert. 

Analoge Eingänge (Analog Inputs)
Es gibt insgesamt zwei Pins die als analoge Pins verwendet werden können. Ein Pin davon wird jedoch im Normalfall für den Motortemperatur-Sensor verwendet. Die Eingänge, die für das Gas

Gas- und Bremseingänge (Throttle and Brake Inputs)

Positionsrückmeldung vom Encoder (Position-feedback Input)

Prozessorversorgung und Spulenrücklauf (KSI and Coil Return)



\subsubsection{Ausgänge (Outputs)}
Spannungswandler
Driver
\subsubsection{Kommunikation}



%% Softwareaufbau %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Softwareaufbau des Antriebssystems}


%% Steuerung der In- und Outputs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{ Steuerung der Ein- und Ausgänge (I/O Assingment)}
\subsection{Funktionen}
\subsection{Zuweisung}


%% Drehmomentsteuerung %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Drehmomentsteuerung (Torquecontrol)}
\subsection{Grundfunktion}
\subsection{Parameter}


%% Kommunikation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Kommunikation (CAN-Bus)}
\subsection{Grundfunktion}
\subsubsection{Parameter}
